<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåü Vibration Magique üíê</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #FFDAB9, #FFC0CB, #E6E6FA); /* Fond plus doux */
            font-family: 'Comic Sans MS', cursive;
            color: #8B008B;
            position: relative;
        }

        /* --- √âl√©ments du Ciel √âtoil√© --- */
        .star {
            position: absolute;
            color: #FFD700; /* Or */
            font-size: var(--size);
            animation: twinkle var(--duration) infinite alternate, float var(--duration) infinite ease-in-out;
            opacity: 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            z-index: 1;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.5; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(var(--float-y)); }
        }
        /* --- FIN Ciel √âtoil√© --- */

        .big-heart-container {
            position: relative;
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10; /* Pour s'assurer qu'il est au-dessus des √©toiles */
        }

        .big-heart {
            font-size: 15em;
            color: #FF1493; /* Rose vif */
            animation: heartbeat 1s infinite alternate, multicolor 2s linear infinite;
            text-shadow: 0 0 30px rgba(255, 20, 147, 0.9);
            position: relative;
            z-index: 1; /* Pour √™tre au-dessus des petites √©toiles qui l'entourent */
        }

        /* Aura d'√©toiles autour du c≈ìur */
        .heart-aura-star {
            position: absolute;
            font-size: 1.5em;
            color: #FFD700; /* Or */
            animation: orbit var(--orbit-duration) linear infinite, twinkle 1.5s infinite alternate;
            transform: rotate(var(--initial-angle)) translateX(150px);
            opacity: 0; /* Cach√© initiallement */
            z-index: 2;
        }
        @keyframes orbit {
            0% { transform: rotate(var(--initial-angle)) translateX(150px) scale(0.8); opacity: 0.7; }
            50% { transform: rotate(calc(var(--initial-angle) + 180deg)) translateX(150px) scale(1.1); opacity: 1; }
            100% { transform: rotate(calc(var(--initial-angle) + 360deg)) translateX(150px) scale(0.8); opacity: 0.7; }
        }


        @keyframes heartbeat { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        @keyframes multicolor {
            0% { color: #FF1493; } 33% { color: #9400D3; } 66% { color: #00BFFF; } 100% { color: #FF1493; }
        }

        /* Animaux qui apportent des fleurs */
        .animal-flower {
            position: absolute;
            font-size: 3em;
            display: flex;
            align-items: center;
            white-space: nowrap;
            animation: flyToHeart 2s ease-out forwards; /* Animation plus rapide */
            opacity: 0;
            z-index: 11;
        }
        .animal-flower span { margin-left: 5px; font-size: 0.8em; }

        @keyframes flyToHeart {
            0% { transform: translate(var(--sx), var(--sy)) scale(0.5); opacity: 0; }
            30% { opacity: 1; transform: translate(var(--midX), var(--midY)) scale(1.2); } /* Point culminant */
            80% { transform: translate(0, 0) scale(0.8); opacity: 1; }
            100% { transform: translate(0, 0) scale(0); opacity: 0; }
        }

        /* Explosion finale */
        .explosion-item {
            position: absolute;
            font-size: 2em;
            animation: explodeOut 0.8s ease-out forwards; /* Explosion tr√®s rapide */
            opacity: 0;
            z-index: 20;
        }

        @keyframes explodeOut {
            0% { transform: translate(0,0) scale(1); opacity: 1; }
            100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
        }

        h2 { color: #FF1493; margin-top: 50px; text-shadow: 1px 1px 3px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <h2 id="msg">üåü Vibration Magique üíê</h2>
    <div class="big-heart-container">
        <div class="big-heart" id="mainHeart">‚ù§Ô∏è</div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const destination = urlParams.get('page') || 'index.html';
        const heartContainer = document.querySelector('.big-heart-container');
        const mainHeart = document.getElementById('mainHeart');

        const animals = ['üïäÔ∏è', 'ü¶ã', 'üêù', 'üêû'];
        const flowers = ['üå∏', 'üåº', 'üåª', 'üå∫'];
        const explosionEmojis = ['‚ù§Ô∏è', 'üíñ', '‚ú®', 'üí´', 'üåü'];
        const auraStars = ['‚≠ê', 'üí´', '‚ú®'];

        // --- Ciel √âtoil√© de Fond ---
        for (let i = 0; i < 50; i++) { // Plus d'√©toiles de fond
            const star = document.createElement('div');
            star.className = 'star';
            star.innerText = '‚ú®'; // Ou '‚≠ê'
            star.style.setProperty('--size', (Math.random() * 0.8 + 0.5) + 'em');
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            star.style.setProperty('--float-y', (Math.random() * 30 - 15) + 'px');
            star.style.top = Math.random() * 100 + '%';
            star.style.left = Math.random() * 100 + '%';
            star.style.animationDelay = (Math.random() * -5) + 's'; // D√©calage pour l'animation
            document.body.appendChild(star);
        }

        // --- Aura d'√©toiles autour du coeur (ajout√©es de mani√®re dynamique) ---
        for (let i = 0; i < 8; i++) { // 8 √©toiles en orbite
            const auraStar = document.createElement('div');
            auraStar.className = 'heart-aura-star';
            auraStar.innerText = auraStars[Math.floor(Math.random() * auraStars.length)];
            auraStar.style.setProperty('--orbit-duration', (Math.random() * 4 + 3) + 's');
            auraStar.style.setProperty('--initial-angle', (i * 45) + 'deg'); // R√©partir les √©toiles
            heartContainer.appendChild(auraStar);
            // Faire appara√Ætre progressivement
            auraStar.style.animationDelay = (Math.random() * -2) + 's';
            auraStar.style.opacity = 0.5 + Math.random() * 0.5;
        }


        // --- Animaux qui apportent des fleurs ---
        for(let i=0; i<8; i++) { // Plus d'animaux
            setTimeout(() => {
                const animal = animals[Math.floor(Math.random() * animals.length)];
                const flower = flowers[Math.floor(Math.random() * flowers.length)];

                const el = document.createElement('div');
                el.className = 'animal-flower';
                el.innerHTML = `${animal}<span>${flower}</span>`; // L'animal porte la fleur
                
                // Point de d√©part al√©atoire
                const angle = Math.random() * 2 * Math.PI;
                const radius = Math.max(window.innerWidth, window.innerHeight) / 2 * 0.9;
                const startX = radius * Math.cos(angle);
                const startY = radius * Math.sin(angle);
                
                // Point interm√©diaire (pour un mouvement plus courbe)
                const midX = startX * 0.5 + (Math.random() * 200 - 100);
                const midY = startY * 0.5 + (Math.random() * 200 - 100);

                el.style.setProperty('--sx', startX + 'px');
                el.style.setProperty('--sy', startY + 'px');
                el.style.setProperty('--midX', midX + 'px');
                el.style.setProperty('--midY', midY + 'px');
                el.style.animationDelay = (i * 0.1) + 's'; // D√©caler l'arriv√©e des animaux
                heartContainer.appendChild(el);
            }, i * 150);
        }

        // --- Explosion Finale et Redirection ---
        const transitionDuration = 2500; // Dur√©e totale de l'animation en ms

        setTimeout(() => {
            mainHeart.style.display = 'none'; // Le gros c≈ìur dispara√Æt
            document.getElementById('msg').innerText = "‚ú® √ânergie d√©ploy√©e ! ‚ù§Ô∏è"; // Message de fin

            // Explosion
            for(let i=0; i<80; i++) { // Plus de particules d'explosion
                const item = document.createElement('div');
                item.className = 'explosion-item';
                item.innerText = explosionEmojis[Math.floor(Math.random() * explosionEmojis.length)];
                item.style.left = "50%"; item.style.top = "50%";
                item.style.setProperty('--dx', (Math.random()-0.5)*1200 + 'px'); // Plus grande port√©e
                item.style.setProperty('--dy', (Math.random()-0.5)*1200 + 'px');
                item.style.animationDelay = (Math.random() * 0.3) + 's'; // L√©g√®rement d√©cal√©
                heartContainer.appendChild(item);
            }

            // Redirection apr√®s l'explosion
            setTimeout(() => {
                window.location.href = destination;
            }, 600); // Laisse un court instant pour voir l'explosion
        }, transitionDuration); // Lance l'explosion apr√®s la dur√©e d√©finie
    </script>
</body>
</html>
