<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Semer un Cadeau - Le Petit Prince des Jardiniers</title>
    <style>
        /* On garde ton style original */
        body { font-family: 'Comic Sans MS', cursive; text-align: center; margin: 0; padding: 0; background-color: #FFFF00; color: #000080; }
        
        #google_translate_element { padding: 10px; background: rgba(255,255,255,0.5); border-bottom: 1px solid #008080; min-height: 40px; }

        .menu-table { margin: 20px auto; border-radius: 10px; background-color: #008080; border-collapse: collapse; margin-left: auto; margin-right: auto; }
        .menu-table td { padding: 10px 15px; border: 1px solid #FFFFFF; }
        .menu-table a { text-decoration: none; color: #FFFFFF; font-weight: bold; }

        .form-container { 
            background: white; border: 4px solid #E67E22; border-radius: 30px; 
            width: 90%; max-width: 600px; margin: 30px auto; padding: 30px;
            box-shadow: 10px 10px 0px #E67E22;
        }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; border-radius: 15px; border: 2px solid #008080; box-sizing: border-box; font-family: inherit; }
        .btn-envoyer { background: #E67E22; color: white; border: none; padding: 15px 30px; border-radius: 20px; font-weight: bold; cursor: pointer; font-size: 1.2em; }
        .btn-envoyer:disabled { background: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>

    <div id="google_translate_element"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() { new google.translate.TranslateElement({pageLanguage: 'fr'}, 'google_translate_element'); }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <table class="menu-table">
        <tr>
            <td><a href="index.html">Accueil</a></td>
            <td><a href="formulaire.html">Semer</a></td>
            <td><a href="jardin.html">Le Jardin</a></td>
            <td><a href="contact.html">Contact</a></td>
        </tr>
    </table>

    <h2 style="color: #E67E22;">üå± Semer une Graine de G√©n√©rosit√©</h2>
    <p><i>"Cadeaux sans d√©tour, cadeaux sans demande de retour."</i></p>

    <div class="form-container">
        <form id="seedForm">
            <label>Ton Identit√© (Pseudo ou Nom) :</label>
            <input type="text" id="nom" placeholder="Ex: Le Jardinier du Dimanche" required>

            <label>Ta Localisation :</label>
            <input type="text" id="ville" placeholder="Ville, Pays..." required>

            <label>Ce que tu offres au monde :</label>
            <textarea id="offre" rows="5" placeholder="D√©cris ton cadeau sans d√©tour (objet, service, temps...)" required></textarea>

            <button type="submit" id="btnEnvoi" class="btn-envoyer">L√ÇCHER LA GRAINE üåª</button>
        </form>
    </div>

    <p><a href="index.html" style="color: #000080; font-weight: bold;">‚Üê Retourner au Tr√©sor Public</a></p>

    <script>
        const URL_SERVEUR = "https://script.google.com/macros/s/AKfycbz4ncs9qw_AfmKSER5QST-P0OeKQggQaq86QC6liS53uZ9sx4Lo_-4-h1knXKWqgQMc/exec";

        document.getElementById('seedForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = document.getElementById('btnEnvoi');
            btn.innerText = "Semailles en cours...";
            btn.disabled = true;

            const donnees = {
                date: new Date().toLocaleDateString('fr-FR'),
                type: "Cadeau",
                nom: document.getElementById('nom').value,
                localisation: document.getElementById('ville').value,
                message: document.getElementById('offre').value
            };

            fetch(URL_SERVEUR, {
                method: 'POST',
                mode: 'no-cors', 
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(donnees)
            }).then(() => {
                alert("Bravo ! Ta graine a bien rejoint le jardin.");
                window.location.href = "jardin.html";
            }).catch(err => {
                alert("Le vent a emport√© la graine... R√©essaie !");
                btn.disabled = false;
                btn.innerText = "L√ÇCHER LA GRAINE üåª";
            });
        });
    </script>
</body>
</html>
