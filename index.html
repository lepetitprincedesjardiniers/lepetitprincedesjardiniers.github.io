<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Le Tr√©sor Public - Le Petit Prince des Jardiniers</title>
    <style>
        body { font-family: 'Comic Sans MS', cursive; text-align: center; margin: 0; padding: 0; background-color: #FFFF00; color: #000080; overflow-x: hidden; min-height: 100vh; }
        
        #google_translate_element { padding: 10px; background: rgba(255,255,255,0.5); border-bottom: 1px solid #008080; }

        .menu-table { margin: 20px auto; border-radius: 10px; background-color: #008080; border-collapse: collapse; }
        .menu-table td { padding: 10px 15px; border: 1px solid #FFFFFF; }
        .menu-table a { text-decoration: none; color: #FFFFFF; font-weight: bold; }

        .soleil-don {
            background: #FFD700; width: 180px; height: 180px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 40px #FFA500; border: 5px dashed #FF4500;
            margin: 20px auto; cursor: pointer; transition: 0.4s;
            text-decoration: none; color: #000080; font-weight: bold; font-size: 0.9em;
        }

        .moteur-recherche {
            background: rgba(255, 255, 255, 0.8); border: 3px solid #008080;
            border-radius: 20px; padding: 20px; margin: 20px auto; width: 80%; max-width: 600px;
        }
        #champRecherche { padding: 12px; border-radius: 10px; border: 2px solid #008080; width: 90%; font-family: 'Comic Sans MS'; }

        .bulles-grid { display: flex; justify-content: center; align-items: center; gap: 25px; flex-wrap: wrap; padding: 30px; }
        
        /* IMPORTANT : Styles pour l'affichage/masquage */
        .carte-jardin { 
            text-decoration: none; 
            color: inherit; 
            transition: all 0.4s ease; 
            display: block; /* Par d√©faut visible */
        }

        .nuage { border-radius: 50px; padding: 25px; width: 280px; height: 180px; box-shadow: 6px 6px 0px rgba(0,0,0,0.1); border: 3px solid; display: flex; flex-direction: column; justify-content: center; }
        .nuage-impot { background: #e0f7fa; border-color: #008080; }
        .nuage-urgence { background: #ffebee; border-color: #e91e63; }

        .etoile-justice {
            background: #E6E6FA; border: 3px solid #9370DB;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            width: 350px; height: 350px; display: flex; align-items: center; justify-content: center;
        }

        .exemples { font-size: 0.8em; color: #2E7D32; font-style: italic; margin-top: 5px; }

        /* Oiseau messager */
        #animal-container { position: fixed; z-index: 1000; pointer-events: none; display: flex; align-items: center; }
        #bulle-texte { background: white; border: 2px solid #2E7D32; border-radius: 10px; padding: 5px 10px; font-size: 0.8em; opacity: 0; }
    </style>
</head>
<body>

    <div id="google_translate_element"></div>

    <table class="menu-table">
        <tr>
            <td><a href="#">Accueil</a></td>
            <td><a href="#">Semer</a></td>
            <td><a href="#">Contact</a></td>
        </tr>
    </table>

    <h1>üí∞ Le Tr√©sor Public</h1>

    <a href="#" class="soleil-don"><div>‚òÄÔ∏è<br>CADEAUX</div></a>

    <div class="moteur-recherche">
        <h3>üîç Ratisser Large</h3>
        <input type="text" id="champRecherche" placeholder="Tapez 'bois', 'c√¢lin' ou 'justice'...">
    </div>

    <div class="bulles-grid">
        <a href="#" class="carte-jardin">
            <div class="nuage nuage-impot">
                <h3>üìú Imp√¥t Volontaire</h3>
                <p>Travaux publics : Bois communal, route.</p>
                <div class="exemples">Mots-cl√©s: bois, route, travail</div>
            </div>
        </a>

        <a href="#" class="carte-jardin">
            <div class="etoile-justice">
                <div style="width:60%">
                    <h3>‚öñÔ∏è R√©gulation</h3>
                    <p>Justice et conflits.</p>
                    <div class="exemples">Mots-cl√©s: justice, pardon, loi</div>
                </div>
            </div>
        </a>

        <a href="#" class="carte-jardin">
            <div class="nuage nuage-urgence">
                <h3>‚ù§Ô∏è Urgence</h3>
                <p>Besoins vitaux.</p>
                <div class="exemples">Mots-cl√©s: c√¢lin, farine, aide</div>
            </div>
        </a>
    </div>

    <div id="animal-container">
        <div id="bulle-texte">Bienvenue !</div>
        <div style="font-size: 40px;">üïäÔ∏è</div>
    </div>

    <script>
        // --- 1. FONCTION DE RECHERCHE (CORRIG√âE) ---
        const input = document.getElementById('champRecherche');
        const cartes = document.querySelectorAll('.carte-jardin');

        input.addEventListener('keyup', function() {
            const motCl√© = input.value.toLowerCase();
            console.log("Recherche en cours de :", motCl√©); // Pour v√©rifier dans F12

            cartes.forEach(carte => {
                const texte = carte.textContent.toLowerCase();
                
                if (texte.indexOf(motCl√©) > -1) {
                    // Si on trouve le mot
                    carte.style.display = ""; // R√©initialise l'affichage
                    carte.style.opacity = "1";
                    carte.style.transform = "scale(1)";
                } else {
                    // Si on ne trouve pas
                    carte.style.opacity = "0.1"; // On estompe
                    carte.style.transform = "scale(0.8)";
                    // On attend la fin de l'animation pour cacher compl√®tement
                    setTimeout(() => {
                        if(carte.style.opacity === "0.1") {
                            carte.style.display = "none";
                        }
                    }, 400);
                }
            });
        });

        // --- 2. ANIMATION DE L'OISEAU ---
        const oiseau = document.getElementById('animal-container');
        let x = -100, y = 300;
        function voler() {
            x += 2;
            y = 300 + Math.sin(x * 0.02) * 50;
            oiseau.style.left = x + 'px';
            oiseau.style.top = y + 'px';
            if (x > window.innerWidth) x = -150;
            requestAnimationFrame(voler);
        }
        voler();
    </script>
</body>
</html>
